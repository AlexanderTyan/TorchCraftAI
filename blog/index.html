<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Blog · TorchCraftAI</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="A bot platform for machine learning research on StarCraft®: Brood War®"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Blog · TorchCraftAI"/><meta property="og:type" content="website"/><meta property="og:url" content="https://torchcraft.github.io/TorchCraftAI/index.html"/><meta property="og:description" content="A bot platform for machine learning research on StarCraft®: Brood War®"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://torchcraft.github.io/TorchCraftAI/img/tclogolinesmall.png"/><link rel="shortcut icon" href="/TorchCraftAI/img/favicon/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://torchcraft.github.io/TorchCraftAI/blog/atom.xml" title="TorchCraftAI Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://torchcraft.github.io/TorchCraftAI/blog/feed.xml" title="TorchCraftAI Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/code-blocks-buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script><link rel="stylesheet" href="/TorchCraftAI/css/main.css"/></head><body class="blog"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/TorchCraftAI/"><img class="logo" src="/TorchCraftAI/img/tclogosqlightgrey.png" alt="TorchCraftAI"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/TorchCraftAI/docs/bptut-intro.html" target="_self">Tutorials</a></li><li class=""><a href="/TorchCraftAI/reference/index.html" target="_self">API</a></li><li class="siteNavGroupActive siteNavItemActive"><a href="/TorchCraftAI/blog/" target="_self">Blog</a></li><li class=""><a href="https://github.com/TorchCraft/TorchCraftAI" target="_blank">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Recent Posts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Recent Posts</h3><ul><li class="navListItem"><a class="navItem" href="/TorchCraftAI/blog/2018/11/28/build-order-switch-retraining-has-arrived.html">Build Order Switch Retraining Has Arrived</a></li><li class="navListItem"><a class="navItem" href="/TorchCraftAI/blog/2018/11/20/hello-github.html">Hello, Github!</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer postContainer blogContainer"><div class="wrapper"><div class="posts"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/TorchCraftAI/blog/2018/11/28/build-order-switch-retraining-has-arrived.html">Build Order Switch Retraining Has Arrived</a></h1><p class="post-meta">November 28, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/jgehring" target="_blank" rel="noreferrer noopener">Jonas Gehring</a></p><div class="authorPhoto"><a href="https://github.com/jgehring" target="_blank" rel="noreferrer noopener"><img src="https://graph.facebook.com/100006699451315/picture/?height=200&amp;width=200" alt="Jonas Gehring"/></a></div></div></header><article class="post-content"><div><span><p>For this year's <a href="https://www.cs.mun.ca/~dchurchill/starcraftaicomp/2018">AIIDE competition</a>, we deployed a machine learning model for high-level strategy selection dubbed Build Order Switch (BOS).
Our competition model was trained by playing against publicly available bots, e.g. from the <a href="https://sscaitournament.com/">SSCAIT ladder</a>.
Naturally, we could neither train nor test it against the updated and new bots that we were going to compete against.</p>
<p>Now that the tournament is over, many authors provided new versions of their bots to the public.
We added a new opening and simply re-trained our model against newly available and updated opponents.
In internal evaluations, our win rate against the AIIDE 2018 winner <a href="https:/sscaitournament.com/index.php?action=botDetails&amp;bot=SAIDA">SAIDA</a> is now at about 55-60% (SSCAIT version from 11/14) , up from 17% with the AIIDE versions.</p>
<p>The new model is <a href="https://s3.amazonaws.com/torchcraftai/models/1.0/bos_model_20181128.bin">available on S3</a> and can be used as described in <a href="docs/play-games.html">the documentation</a>:</p>
<pre><code class="hljs css language-bash">curl -o bwapi-data/AI/bos_model.bin https://s3.amazonaws.com/torchcraftai/models/1.0/bos_model_20181128.bin
cherrypi[.exe] -hostname 127.0.0.1 -port 11111 -bos_model bwapi-data/AI/bos_model.bin -bp_model bwapi-data/AI/bp_model.bin
</code></pre>
<p>You can get more details about the Build Order Switch model and the training setup in <a href="https://arxiv.org/abs/1811.08568">our recent paper</a> which will be presented at the <a href="https://sites.google.com/site/rlponips2018">NeurIPS RL PO workshop</a> in Montréal next week.
For the model that we are making available now, we put an emphasis on newer and stronger bots and increased the training time.
Below are a few games and the value outputs of the BOS model for different build orders.
Click on the graphs to view the full-resolution versions.</p>
<h4><a class="anchor" aria-hidden="true" id="game-1-replay-https-s3amazonawscom-torchcraftai-assets-bos-game1rep"></a><a href="#game-1-replay-https-s3amazonawscom-torchcraftai-assets-bos-game1rep" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Game 1 [<a href="https://s3.amazonaws.com/torchcraftai/assets/bos-game1.rep">replay</a>]</h4>
<p>Played against SAIDA (SSCAIT version from 11/14).
Our confidence in winning the game drops around the 4-minute mark when we become aware of SAIDA's planned expansion and its first military units, but stabilizes again at 5 minute after our Hydras managed to hold off the approaching Vultures.
Ten minutes into the game, SAIDA's army is making its way across the map and we focus on increasing our Hydralisk count.
The drop at 11 minutes marks the destruction of our natural although our Hydralisks are managing to surround the opponent's army and defeat it.
Finally, we transition to a more diverse army composition with the switch to <code>zvt3hatchlurker</code> and are confident to win the game at 17:30.</p>
<p><a href="/TorchCraftAI/blog/assets/bos-game1.svg">
<img src="/TorchCraftAI/blog/assets/bos-game1.svg"/>
</a></p>
<h4><a class="anchor" aria-hidden="true" id="game-2-replay-https-s3amazonawscom-torchcraftai-assets-bos-game2rep"></a><a href="#game-2-replay-https-s3amazonawscom-torchcraftai-assets-bos-game2rep" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Game 2 [<a href="https://s3.amazonaws.com/torchcraftai/assets/bos-game2.rep">replay</a>]</h4>
<p>This is a game against the AIIDE 2018 version of Locutus.
We start the game with <code>3basepoollings</code>, an economy-heavy opening.
As we do not sense an early attack from the opponent, we do not consider switching our build until six minutes into the game.
Shortly before the 8-minute mark, we switch to <code>zvtmacro</code> which spurs our Zergling production -- Zealots are just arriving at our natural.
They cause significant damage but with numerous Zerglings we are able to hold them off.
We finally defeat Locutus with an army made up of Zerglings, Mutalisks and Ultralisks.</p>
<p><a href="/TorchCraftAI/blog/assets/bos-game2.svg">
<img src="/TorchCraftAI/blog/assets/bos-game2.svg"/>
</a></p>
<h4><a class="anchor" aria-hidden="true" id="game-3-replay-https-s3amazonawscom-torchcraftai-assets-bos-game3rep"></a><a href="#game-3-replay-https-s3amazonawscom-torchcraftai-assets-bos-game3rep" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Game 3 [<a href="https://s3.amazonaws.com/torchcraftai/assets/bos-game3.rep">replay</a>]</h4>
<p>This is another game against SAIDA (SSCAIT version from 11/14) in which CherryPi loses.
The switch to <code>zvp10hatch</code>, which is a  happens quite early in response to early Vultures.
At ten minutes, we successfully held of SAIDA's initial push which results in a higher overall confidence.
However, our army becomes too reliant on Zerglings and can't uphold the pressure, allowing SAIDA's army to leave the natural around 16 minutes into the game.
Switching to <code>zvtantimech</code> at around 14:30 was not enough to prevent the eventual defeat.</p>
<p><a href="/TorchCraftAI/blog/assets/bos-game3.svg">
<img src="/TorchCraftAI/blog/assets/bos-game3.svg"/>
</a></p>
<p>Finally, we are thankful for the fierce competition in AIIDE 2018 – a bigger pool of bots is good for everyone in the research community, and we hope to see more in the future!</p>
</span></div></article></div><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/TorchCraftAI/blog/2018/11/20/hello-github.html">Hello, Github!</a></h1><p class="post-meta">November 20, 2018</p><div class="authorBlock"><p class="post-authorName"><a href="http://twitter.com/syhw" target="_blank" rel="noreferrer noopener">Gabriel Synnaeve</a></p><div class="authorPhoto"><a href="http://twitter.com/syhw" target="_blank" rel="noreferrer noopener"><img src="https://graph.facebook.com/636270303/picture/?height=200&amp;width=200" alt="Gabriel Synnaeve"/></a></div></div></header><article class="post-content"><div><span><p>The CherryPi team at Facebook AI Research is very happy to open source TorchCraftAI <a href="https://github.com/TorchCraft/TorchCraftAI">on github</a>. We benefitted from the StarCraft AI bot community, and we are proud to give back.</p>
<p>TorchCraftAI is a platform that lets you build agents to play (and learn to play) StarCraft: Brood War. TorchCraftAI includes:</p>
<ul>
<li>A modular framework for building StarCraft agents, where modules can be hacked with, replaced by other, or by ML/RL-trained models</li>
<li>CherryPi, a bot which plays complete games of StarCraft (1st place SSCAIT 2017-18, 2nd place AIIDE 2018)</li>
<li>A reinforcement learning environment for full games, minigames, with models, and training loops</li>
<li>TorchCraft support for TCP communication with StarCraft and BWAPI</li>
<li>Support for Linux, Windows and OSX</li>
</ul>
</span></div></article></div><div class="docs-prevnext"></div></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/TorchCraftAI/" class="nav-home"><img src="/TorchCraftAI/img/tclogosqsmall.png" alt="TorchCraftAI" width="66" height="58"/></a><div><h5>Docs</h5><a href="/TorchCraftAI/docs/en/install-linux.html">Getting Started (Linux)</a><a href="/TorchCraftAI/docs/en/install-windows.html">Getting Started (Windows)</a><a href="/TorchCraftAI/docs/en/install-macos.html">Getting Started (Mac)</a><a href="reference/index.html">API Reference</a></div><div><h5>Community</h5><a href="https://discordapp.com/invite/w9wRRrF">Starcraft AI Discord</a><a href="https://www.facebook.com/groups/bwapi/">Starcraft AI Facebook group</a><a href="https://github.com/TorchCraft/TorchCraftAI">TorchCraftAI on GitHub</a></div><div><h5>More</h5><a href="https://github.com/TorchCraft/TorchCraft">TorchCraft on GitHub</a><a href="https://github.com/TorchCraft/StarData">StarData on GitHub</a><a href="/TorchCraftAI/blog">Blog</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/TorchCraftAI/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2018 Facebook</section></footer></div></body></html>